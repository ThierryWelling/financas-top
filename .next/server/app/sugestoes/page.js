(()=>{var e={};e.id=982,e.ids=[982],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},4454:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=a(482),r=a(9108),i=a(2563),o=a.n(i),l=a(8300),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);a.d(s,n);let d=["",{children:["sugestoes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2814)),"C:\\Users\\thierry\\financas02\\src\\app\\sugestoes\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7703)),"C:\\Users\\thierry\\financas02\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\thierry\\financas02\\src\\app\\sugestoes\\page.tsx"],x="/sugestoes/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/sugestoes/page",pathname:"/sugestoes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},489:(e,s,a)=>{Promise.resolve().then(a.bind(a,7423))},8411:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},1096:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]])},7402:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},6064:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7423:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>v});var t=a(5344),r=a(3729),i=a(9224);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);var l=a(8411),n=a(5904),d=a(1096),c=a(6064),x=a(7402);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,i.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var m=a(5341);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,i.Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),h=(0,i.Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var g=a(8704);function v(){let[e,s]=(0,r.useState)(null),[a,i]=(0,r.useState)([]),[v,y]=(0,r.useState)(!0);(0,r.useEffect)(()=>{j()},[]);let j=async()=>{try{let e=(await g.O.auth.getUser()).data.user;if(!e)return;let[a,t,r]=await Promise.all([g.O.from("receitas").select("*").eq("user_id",e.id),g.O.from("despesas").select("*").eq("user_id",e.id),g.O.from("sonhos").select("*").eq("user_id",e.id)]),o=a.data||[],l=t.data||[],n=r.data||[],d=o.reduce((e,s)=>e+s.valor,0),c=l.reduce((e,s)=>e+s.valor,0),x=l.reduce((e,s)=>(e[s.categoria]=(e[s.categoria]||0)+s.valor,e),{}),p={receitas:o,despesas:l,sonhos:n,receitaTotal:d,despesaTotal:c,saldoDisponivel:d-c,gastosPorCategoria:x};s(p);let m=await f(p);i(m)}catch(e){console.error("Erro ao carregar dados:",e)}finally{y(!1)}},f=async e=>{let s=[];if(e.saldoDisponivel>0){let a=e.sonhos.map(e=>({...e,percentualConcluido:e.valor_atual/e.valor_meta*100,valorFaltante:e.valor_meta-e.valor_atual})).sort((e,s)=>e.percentualConcluido-s.percentualConcluido);if(a.length>0){let t=a[0];s.push({tipo:"dica",titulo:"Aloca\xe7\xe3o de Saldo Dispon\xedvel",descricao:`Voc\xea tem R$ ${e.saldoDisponivel.toFixed(2)} dispon\xedveis. Sugerimos investir R$ ${Math.min(e.saldoDisponivel,t.valorFaltante).toFixed(2)} no seu sonho "${t.titulo}" que est\xe1 ${t.percentualConcluido.toFixed(1)}% conclu\xeddo.`,valor:e.saldoDisponivel,prioridade:1})}}let a=["moradia","alimenta\xe7\xe3o","sa\xfade","transporte"];e.despesas.sort((e,s)=>a.indexOf(e.categoria.toLowerCase())-a.indexOf(s.categoria.toLowerCase())),Object.entries(e.gastosPorCategoria).forEach(([a,t])=>{let r=t/e.receitaTotal*100,i={moradia:30,alimentação:20,transporte:15,lazer:10};r>(i[a.toLowerCase()]||15)&&s.push({tipo:"alerta",titulo:`Gasto Elevado em ${a}`,descricao:`Seus gastos com ${a.toLowerCase()} representam ${r.toFixed(1)}% da sua renda, acima do recomendado de ${i[a.toLowerCase()]||15}%.`,valor:t,categoria:a,prioridade:2})});let t=(e.receitaTotal-e.despesaTotal)/e.receitaTotal*100;return t<20?s.push({tipo:"negativo",titulo:"Taxa de Economia Baixa",descricao:`Sua taxa de economia atual \xe9 de ${t.toFixed(1)}%. O recomendado \xe9 economizar pelo menos 20% da sua renda.`,valor:t,prioridade:3}):s.push({tipo:"positivo",titulo:"Boa Taxa de Economia",descricao:`Parab\xe9ns! Voc\xea est\xe1 economizando ${t.toFixed(1)}% da sua renda, acima do recomendado de 20%.`,valor:t,prioridade:3}),s.sort((e,s)=>(e.prioridade||99)-(s.prioridade||99))};return v?t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Intelig\xeancia Financeira"}),t.jsx("p",{className:"mt-1 text-gray-400",children:"An\xe1lises e recomenda\xe7\xf5es personalizadas baseadas em IA"})]}),t.jsx("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-lg bg-indigo-500/10 p-4",children:[t.jsx(o,{className:"h-5 w-5 text-indigo-500"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-indigo-500",children:"Insights Ativos"}),t.jsx("p",{className:"font-bold text-indigo-500",children:a.length})]})]})})]}),e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(l.Z,{className:"h-5 w-5 text-green-500"}),t.jsx("h3",{className:"font-medium",children:"Sa\xfade Financeira"})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Receitas vs Despesas"}),(0,t.jsxs)("span",{className:e.saldoDisponivel>=0?"text-green-500":"text-red-500",children:[(e.saldoDisponivel/e.receitaTotal*100).toFixed(1),"%"]})]}),t.jsx("div",{className:"mt-2 h-2 rounded-full bg-gray-800",children:t.jsx("div",{className:`h-2 rounded-full transition-all ${e.saldoDisponivel>=0?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(e.despesaTotal/e.receitaTotal*100,100)}%`}})})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(n.Z,{className:"h-5 w-5 text-blue-500"}),t.jsx("h3",{className:"font-medium",children:"Sonhos Ativos"})]}),(0,t.jsxs)("div",{className:"mt-4",children:[t.jsx("p",{className:"text-2xl font-bold",children:e.sonhos.length}),t.jsx("p",{className:"text-sm text-gray-400",children:"Objetivos em andamento"})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(d.Z,{className:"h-5 w-5 text-purple-500"}),t.jsx("h3",{className:"font-medium",children:"Saldo Dispon\xedvel"})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("p",{className:`text-2xl font-bold ${e.saldoDisponivel>=0?"text-green-500":"text-red-500"}`,children:["R$ ",e.saldoDisponivel.toFixed(2)]}),t.jsx("p",{className:"text-sm text-gray-400",children:"Para investir em sonhos"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border border-gray-800 bg-gray-900/50",children:[t.jsx("div",{className:"border-b border-gray-800 p-4",children:t.jsx("h2",{className:"text-xl font-semibold",children:"Insights e Recomenda\xe7\xf5es"})}),t.jsx("div",{className:"p-4",children:t.jsx("div",{className:"space-y-4",children:a.map((e,s)=>t.jsx("div",{className:"rounded-lg border border-gray-800 bg-gray-800/50 p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`rounded-lg p-2 ${"positivo"===e.tipo?"bg-green-500/10 text-green-500":"negativo"===e.tipo?"bg-red-500/10 text-red-500":"alerta"===e.tipo?"bg-yellow-500/10 text-yellow-500":"bg-blue-500/10 text-blue-500"}`,children:"positivo"===e.tipo?t.jsx(c.Z,{className:"h-5 w-5"}):"negativo"===e.tipo?t.jsx(x.Z,{className:"h-5 w-5"}):"alerta"===e.tipo?t.jsx(p,{className:"h-5 w-5"}):t.jsx(m.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium",children:e.titulo}),t.jsx("p",{className:"mt-1 text-sm text-gray-400",children:e.descricao}),e.valor&&(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[e.categoria&&t.jsx("span",{className:"text-sm text-gray-500",children:e.categoria}),"number"==typeof e.valor&&!e.valor.toString().includes("%")&&(0,t.jsxs)("span",{className:"text-sm font-medium",children:["R$ ",e.valor.toFixed(2)]}),e.variacao&&(0,t.jsxs)("span",{className:`flex items-center text-sm ${e.variacao>0?"text-green-500":"text-red-500"}`,children:[e.variacao>0?t.jsx(u,{className:"h-3 w-3"}):t.jsx(h,{className:"h-3 w-3"}),Math.abs(e.variacao).toFixed(1),"%"]})]})]})]})},s))})})]})]})]})}},2814:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>r,default:()=>o});let t=(0,a(6843).createProxy)(String.raw`C:\Users\thierry\financas02\src\app\sugestoes\page.tsx`),{__esModule:r,$$typeof:i}=t,o=t.default}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[853,851],()=>a(4454));module.exports=t})();